(this["webpackJsonpcurrency-exchange"]=this["webpackJsonpcurrency-exchange"]||[]).push([[0],{168:function(e,t,n){e.exports=n(332)},177:function(e,t,n){},237:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"convert",(function(){return h})),n.d(r,"resolveConvert",(function(){return b})),n.d(r,"rejectConvert",(function(){return E}));var a={};n.r(a),n.d(a,"getResult",(function(){return y})),n.d(a,"isPending",(function(){return O})),n.d(a,"getErrorMessage",(function(){return j}));var c=n(0),o=n.n(c),u=n(4),l=n.n(u),i=n(66),s=n(42),m=n(50),f=n(92),p={amount:null,convertedAmount:null,from:null,to:null,pending:!1,errorMessage:null},d=n(149);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){var n=t.payload;return v({},e,{amount:n.amount,convertedAmount:null,from:n.from,to:n.to,pending:!0,errorMessage:null})},b=function(e,t){return v({},e,{convertedAmount:t.payload,pending:!1})},E=function(e,t){return v({},e,{errorMessage:t.payload,pending:!1})},y=function(e){var t=e.amount,n=e.convertedAmount,r=e.from,a=e.to;return null===t||null===n||null===r||null===a?null:{amount:t,convertedAmount:n,from:r,to:a}},O=function(e){return e.pending},j=function(e){return e.errorMessage},x=Object(f.b)({name:"exchange",initialState:p,reducers:r}),w=x.actions,C=x.reducer,k=Object(f.a)({reducer:{exchange:C}}),P=function(e){return e.exchange},S=k,M=n(333),A=n(335),D=n(337),I=(n(177),M.a.Header),R=M.a.Content,N=A.a.Title,T=function(e){var t=Object(s.g)(),n=e.children;return o.a.createElement(M.a,null,o.a.createElement(I,null,o.a.createElement(N,{level:2},"Currency"),o.a.createElement(D.a,{theme:"dark",mode:"horizontal",selectedKeys:[t.pathname]},o.a.createElement(D.a.Item,{key:"/exchange"},o.a.createElement(i.b,{to:"/exchange"},"Exchange")),o.a.createElement(D.a.Item,{key:"/rate"},o.a.createElement(i.b,{to:"/rate"},"Rate")))),o.a.createElement(R,null,n))},U=n(57),z=n.n(U),B=n(90),J=function(){var e=Object(B.a)(z.a.mark((function e(t,n,r){var a,c,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?amount=".concat(t,"&from=").concat(n,"&to=").concat(r),e.next=3,fetch("https://frankfurter.app/latest".concat(a));case 3:return c=e.sent,e.next=6,c.json();case 6:return o=e.sent,e.abrupt("return",o.rates[r.toUpperCase()]);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),q=n(165),H=n(339),K=n(8),F=n(334),G=n(336),L=n(338),Q=(n(237),o.a.useState),V=o.a.useCallback,W=function(e){var t=e.result,n=e.errorMessage,r=e.pending,a=e.onConvert,c=Q(!1),u=Object(q.a)(c,2),l=u[0],i=u[1],s=l||!!n,m=V((function(e){var t=function(e){var t=e.match(/(\d+)\s+(\w+)\s+(?:in|to)\s+(\w+)/);return t?{amount:Number(t[1]),from:t[2],to:t[3]}:null}(e);if(t){i(!1);var n=t.amount,r=t.from,c=t.to;a&&a(n,r,c)}else i(!0)}),[a,i]);return o.a.createElement(H.a,{icon:o.a.createElement(K.a,{type:"transaction"}),title:"Exchange to another currency",subTitle:"Type the amount with current currency and which currency to convert",extra:o.a.createElement("div",{className:"exchange"},o.a.createElement(F.a,null,o.a.createElement(F.a.Item,{validateStatus:s?"error":"",help:n},o.a.createElement(G.a.Search,{size:"large",enterButton:o.a.createElement(K.a,{type:"enter"}),placeholder:"100 usd in euro",loading:r,"aria-label":"Send",onSearch:m}))),t&&!r?o.a.createElement("div",{className:"exchange-result"},o.a.createElement(L.a,{title:"".concat(t.amount," ").concat(t.from.toUpperCase()," to equal"),value:t.convertedAmount,precision:2,suffix:t.to.toUpperCase()})):null)})},X=a.isPending,Y=a.getResult,Z=a.getErrorMessage,$=function(){var e=Object(m.b)(),t=Object(c.useCallback)((function(t,n,r){e(function(e,t,n){return function(){var r=Object(B.a)(z.a.mark((function r(a){var c;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(w.convert({amount:e,from:t,to:n})),r.prev=1,r.next=4,J(e,t,n);case 4:c=r.sent,a(w.resolveConvert(c)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),a(w.rejectConvert("Something went wrong, try again later"));case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}),[e]),n=Object(m.c)((function(e){return X(P(e))})),r=Object(m.c)((function(e){return Y(P(e))})),a=Object(m.c)((function(e){return Z(P(e))}));return o.a.createElement(W,{pending:n,result:r||void 0,errorMessage:a||void 0,onConvert:t})},_=(n(330),n(331),function(){return o.a.createElement(m.a,{store:S},o.a.createElement(i.a,null,o.a.createElement(T,null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/exchange"},o.a.createElement($,null)),o.a.createElement(s.b,{path:"/rate"},"Rate"),o.a.createElement(s.a,{to:"/exchange"})))))});l.a.render(o.a.createElement(_,null),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.c3268bb4.chunk.js.map